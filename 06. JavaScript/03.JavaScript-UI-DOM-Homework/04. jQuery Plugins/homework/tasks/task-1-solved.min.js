function solve() {
    var select = "select",
        e = "The element must be a SELECT",
        a = "<div />",
        n = "option",
        d = "dropdown-list",
        o = "current",
        r = "options-container",
        l = "position",
        i = "absolute",
        s = "data-value",
        c = "data-index",
        h = "dropdown-item",
        p = "click",
        v = ".current",
        u = "display",
        m = "none",
        f = "Select a value",
        w = ".dropdown-item";
    return function(C) {
        var b = $(C);
        if (!b.is(select)) throw new Error(e);
        var E = b.find(n),
            T = $(a).addClass(d),
            x = $(a).addClass(o);
        T.append(x);
        var S = $(a).addClass(r).hide().css(l, i);
        E.each(function(select, e) {
            var n = $(e);
            select === b.get(0).selectedIndex && x.html(n.html()).attr(s, n.val()), $(a).addClass(h).html(n.html()).attr(s, n.val()).attr(c, select).appendTo(S)
        }), T.append(S), b.before(T), T.prepend(b), T.on(p, v, function() {
            S.css(u) === m ? (S.show(), x.html(f)) : S.hide()
        }), T.on(p, w, function() {
            var select = $(this);
            x.html(select.html()).attr(s, select.val()), b.val(select.attr(s)), S.hide()
        }), b.hide()
    }
}